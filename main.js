/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var w=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var k=Object.getOwnPropertyNames;var L=Object.prototype.hasOwnProperty;var S=(c,n)=>{for(var e in n)w(c,e,{get:n[e],enumerable:!0})},W=(c,n,e,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of k(n))!L.call(c,i)&&i!==e&&w(c,i,{get:()=>n[i],enumerable:!(t=A(n,i))||t.enumerable});return c};var C=c=>W(w({},"__esModule",{value:!0}),c);var T={};S(T,{DEFAULT_SETTINGS:()=>b,default:()=>y});module.exports=C(T);var l=require("obsidian");var E=require("obsidian"),u="ai-sidebar-view",m=class extends E.ItemView{constructor(e,t){super(e);this.previousUrl=null;this.plugin=t}getViewType(){return u}getDisplayText(){return"AI \u52A9\u624B"}getIcon(){return"heart"}async onOpen(){let e=this.containerEl.children[1];e.empty();let t=document.createElement("div");t.style.position="relative",t.style.width="100%",t.style.height="100%",t.style.overflow="hidden",this.wrapper=t,e.appendChild(t);let i="Mozilla/5.0 (iPhone; CPU iPhone OS 18_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1",a="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36",r=(h,g,d="300px")=>{let o=document.createElement("webview");return o.src=h,o.setAttribute("useragent",g),o.setAttribute("webpreferences","contextIsolation, javascript=yes"),o.setAttribute("allowpopups",""),o.style.width="100%",o.style.height="100%",o.style.border="none",o.style.minWidth=d,o},s=document.createElement("div");s.style.position="absolute",s.style.top="10px",s.style.right="10px",s.style.zIndex="10",s.style.display="flex",s.style.alignItems="center",s.style.opacity="0.3",s.style.transition="opacity 0.3s ease-in-out",t.appendChild(s),s.addEventListener("mouseenter",()=>s.style.opacity="1"),s.addEventListener("mouseleave",()=>s.style.opacity="0.3");let p=document.createElement("select");p.className="dropdown",p.style.cursor="pointer",this.selectElement=p,s.appendChild(p),p.addEventListener("mousedown",h=>{h.stopPropagation()}),p.addEventListener("change",h=>{let g=h.target.selectedOptions[0];if(!g)return;let d=g.dataset.key,o=g.value;if(o==="local::toggle-position"){s.style.left==="auto"||s.style.left===""?(s.style.left="10px",s.style.right="auto"):(s.style.left="auto",s.style.right="10px"),this.previousUrl&&(this.selectElement.value=this.previousUrl);return}this.currentElement&&(this.wrapper.removeChild(this.currentElement),this.currentElement=null);let x=d==="\u5F53\u8D1Dai"?"408px":"300px",M=(d?{\u8C37\u6B4C\u767B\u5F55:i,\u79D8\u5854ai:a}[d]:void 0)||a;this.currentElement=r(o,M,x),this.previousUrl=o,this.wrapper.appendChild(this.currentElement)}),window.addEventListener("mousedown",h=>{h.target.classList.contains("workspace-leaf-resize-handle")&&this.currentElement&&(this.currentElement.style.pointerEvents="none")}),window.addEventListener("mouseup",()=>{this.currentElement&&(this.currentElement.style.pointerEvents="auto")}),this.populateSelectWithOptions(this.plugin.settings)}async onClose(){}populateSelectWithOptions(e){let t={\u514D\u8D39ai:"https://e12.free-chat.asia/",\u5F53\u8D1Dai:"https://ai.dangbei.com/chat",\u6DF1\u5EA6ai:"https://chat.deepseek.com/sign_in",\u8C46\u5305ai:"https://www.doubao.com/chat/",\u901A\u4E49ai:"https://www.tongyi.com/",\u5343\u95EEai:"https://chat.qwen.ai/",\u667A\u8C31ai:"https://chatglm.cn/main/alltoolsdetail?lang=zh",\u6708\u4E4Bai:"https://www.kimi.com/",\u79D8\u5854ai:"https://metaso.cn/",\u8FF7\u4F60ai:"https://agent.minimaxi.com/",\u63A5\u53E3ai:"https://web.chatboxai.app/",\u65E0\u9650ai:"https://g4f.dev/chat",\u8D5B\u535Aai:"https://mumuverse.space:1520/",\u53D1\u73B0ai:"https://www.faxianai.com/",\u77E5\u8BC6ai:"https://ima.qq.com/",\u77E5\u8BC6\u5E93:"https://ima.qq.com/wikis",\u63D0\u793A\u8BCD:"https://prompt.always200.com/",n8n\u5DE5\u4F5C\u6D41:"http://localhost:5678/",Dify\u5DE5\u4F5C\u6D41:"http://localhost/apps",\u5207\u6362\u4F4D\u7F6E:"local::toggle-position",Notion:"https://www.notion.com/zh-cn"},i={Gemini:"https://gemini.google.com/app",ChatGPT:"https://sharedchat.fun/",chatgpt:"https://chatgpt.com/?model=auto",grok:"https://grok.com/",\u9999\u8549ai:"https://labs.google/fx/tools/whisk",\u5373\u68A6ai:"https://jimeng.jianying.com/ai-tool/home",\u56FE\u4E66\u9986:"https://vxc3hj17dym.feishu.cn/wiki/VDb1wMKDNiNj0mkJn6VcFgRenVc",AGI\u4E4B\u8DEF:"https://waytoagi.feishu.cn/wiki/QPe5w5g7UisbEkkow8XcDmOpn8e",n8n\u793E\u533A:"https://n8ncn.io/",\u8C37\u6B4C\u767B\u5F55:"https://accounts.google.com/ServiceLogin?passive=1209600&continue=https://gemini.google.com/app&followup=https://gemini.google.com/app&ec=GAZAkgU",\u5373\u68A6\u767B\u5F55:"https://open.douyin.com/platform/oauth/connect?client_key=aw97st49sighch6k&response_type=code&scope=user_info&state=7742f5c93gAToVCgoVPZIDA5NDFmOWYxMjRmZWFkZTdkM2MwYzY4ZWJlZjNmMGQzoU7ZOGh0dHBzOi8vamltZW5nLmplYW55aW5nLmNvbS9haS10b29sL3RoaXJkLXBhcnR5LWNhbGxiYWNroVYBoUkAoUQAoUHSAAfWn6FNAKFIs2ppbWVuZy5qaWFueWluZy5jb22hUgKiUEzROl6mQUNUSU9OoKFMoKFU2SBhODIxMzc5Zjg5OWZkNjU1ZDMxMjQxOWZiZGVkODZhYaFXAKFGAKJTQQChVcKiTUzC&redirect_uri=https://jimeng.jianying.com/passport/web/web_login_success",grok\u767B\u5F55:"https://accounts.x.ai/sign-in"},a={...t};e.isAdvancedMember&&(a={...t,...i}),this.selectElement.innerHTML="",Object.keys(a).forEach(r=>{let s=document.createElement("option");s.value=a[r],s.dataset.key=r,s.textContent=r,this.selectElement.appendChild(s)}),this.selectElement.options.length>0&&this.selectElement.dispatchEvent(new Event("change"))}update(e){this.populateSelectWithOptions(e)}};var b={isAdvancedMember:!1},y=class extends l.Plugin{async onload(){console.log("\u6B63\u5728\u52A0\u8F7D AI \u52A9\u624B\u63D2\u4EF6..."),await this.loadSettings(),this.registerView(u,e=>(this.view=new m(e,this),this.view)),this.addRibbonIcon("heart","\u6253\u5F00 AI \u52A9\u624B",()=>{this.activateView()}),this.addSettingTab(new v(this.app,this)),console.log("AI \u52A9\u624B\u63D2\u4EF6\u5DF2\u52A0\u8F7D\u3002")}onunload(){console.log("\u6B63\u5728\u5378\u8F7D AI \u52A9\u624B\u63D2\u4EF6...")}async activateView(){let{workspace:e}=this.app,t=null,i=e.getLeavesOfType(u);i.length>0?t=i[0]:(t=e.getRightLeaf(!1),t||(t=e.getLeftLeaf(!1)),t&&await t.setViewState({type:u,active:!0})),t&&e.revealLeaf(t)}async loadSettings(){this.settings=Object.assign({},b,await this.loadData())}async saveSettings(){await this.saveData(this.settings),this.view&&this.view.update(this.settings)}},v=class extends l.PluginSettingTab{constructor(e,t){super(e,t);this.plugin=t}display(){let{containerEl:e}=this;e.empty(),e.createEl("h2",{text:"AI \u52A9\u624B\u8BBE\u7F6E"}),new l.Setting(e).setName("\u5F53\u524D\u72B6\u6001").setDesc(this.plugin.settings.isAdvancedMember?"\u5DF2\u6FC0\u6D3B":"\u672A\u6FC0\u6D3B").then(t=>{let i=t.descEl;this.plugin.settings.isAdvancedMember?(i.addClass("text-success"),i.style.fontWeight="bold"):i.addClass("text-error")}),new l.Setting(e).setName("\u6FC0\u6D3B\u9AD8\u7EA7\u7248").setDesc("\u8F93\u5165\u6FC0\u6D3B\u7801\u4EE5\u89E3\u9501\u9AD8\u7EA7\u529F\u80FD\u3002").addButton(t=>t.setButtonText("\u8F93\u5165\u6FC0\u6D3B\u7801").onClick(()=>{new f(this.app,this.plugin,()=>this.display()).open()}))}},f=class extends l.Modal{constructor(e,t,i){super(e);this.plugin=t,this.onSuccessCallback=i}onOpen(){let{contentEl:e}=this;if(this.setTitle("\u5343\u5343\xB7\u9047\u89C1\u7248"),this.plugin.settings.isAdvancedMember){e.createEl("h3",{text:"\u5DF2\u6FC0\u6D3B"}),e.createEl("p",{text:"\u9AD8\u7EA7\u7248\u5DF2\u6FC0\u6D3B\uFF0C\u65E0\u9700\u91CD\u590D\u8F93\u5165\u6FC0\u6D3B\u7801\u3002"});let t=e.createDiv();t.style.marginTop="2rem",t.style.textAlign="right",t.createEl("button",{text:"\u5173\u95ED",cls:"mod-cta"}).addEventListener("click",()=>{this.close()})}else{let t=e.createDiv();t.style.marginBottom="1rem",t.setText("\u5F53\u524D\u72B6\u6001: ");let i=t.createSpan({text:"\u672A\u6FC0\u6D3B"});i.addClass("text-error"),i.style.fontWeight="bold",e.createEl("label",{text:"\u8BF7\u8F93\u5165\u6FC0\u6D3B\u7801:",attr:{for:"activationCode"}});let a=e.createEl("input",{attr:{id:"activationCode",placeholder:"\u8F93\u5165\u6FC0\u6D3B\u7801"}});a.type="password",a.style.display="block",a.style.width="100%",a.style.marginTop="0.5rem",e.createEl("small",{text:"\u8F93\u5165\u6B63\u786E\u7684\u6FC0\u6D3B\u7801\u5373\u53EF\u6FC0\u6D3B\u3002",cls:"setting-item-description"});let r=e.createDiv();r.style.marginTop="2rem",r.style.textAlign="right",r.createEl("button",{text:"\u5173\u95ED"}).addEventListener("click",()=>{this.close()});let p=r.createEl("button",{text:"\u6FC0\u6D3B",cls:"mod-cta"});p.style.marginLeft="0.5rem",p.addEventListener("click",async()=>{let h="W".charCodeAt(0)+"Y".charCodeAt(0)+"Q".charCodeAt(0)+Math.pow(2,7)+Math.pow(2,1)+Math.pow(2,2)+Math.pow(2,7)-Math.pow(2,1);parseInt(a.value,10)===h?(this.plugin.settings.isAdvancedMember=!0,await this.plugin.saveSettings(),new l.Notice("\u6FC0\u6D3B\u6210\u529F\uFF01"),this.onSuccessCallback(),this.close()):new l.Notice("\u6FC0\u6D3B\u7801\u9519\u8BEF",3e3)})}}onClose(){let{contentEl:e}=this;e.empty()}};
